function __my_setup_conda() {
  prefix=$1
  environment=$2
  if [ -f ${prefix}/etc/profile.d/conda.sh ]; then
    . ${prefix}/etc/profile.d/conda.sh
  fi

  if [[ -n ${environment} ]]; then
    pythondir=${prefix}/envs/${environment}/bin
  else
    pythondir=${prefix}/bin
  fi

  for command in python pip pydoc pytest pyvenv; do
    if [[ -x ${pythondir}/${command} ]]; then
      alias ${command}=${pythondir}/${command}
    fi
  done
}

__my_setup_conda ~/.local/anaconda3 ""
unset -f __my_setup_conda

[[ -f /etc/profile.d/autojump.sh ]] && source /etc/profile.d/autojump.sh
